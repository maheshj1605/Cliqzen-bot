// ------------------------------------------------------
// CliqZen Bot - Help Handler (Advanced Version)
// Provides help, command guide & feature overview
// ------------------------------------------------------

user = help_action.get("user");
username = user.get("name");

// Debug Log
info "ðŸ“˜ Help requested by: " + username;


// ------------------------------------------------------
// Help Card UI
// ------------------------------------------------------
card = Map();
card.put("theme", "modern");
card.put("title", "ðŸ“˜ CliqZen â€“ Help & Commands");

// Help Content
overview = "**CliqZen Bot** is your AI-powered task assistant.\n";
overview = overview + "Create, track, update, and manage tasks quickly.";

commands = "**Available Commands:**\n";
commands = commands + "â€¢ `/create <task>` â€“ Create a new task\n";
commands = commands + "â€¢ `/tasks` â€“ View all tasks\n";
commands = commands + "â€¢ `/search <keyword>` â€“ Search tasks\n";
commands = commands + "â€¢ `/delete <task>` â€“ Delete a task\n";
commands = commands + "â€¢ `/settings` â€“ Update workspace settings\n";

features = "**Core Features:**\n";
features = features + "âœ” Smart task creation\n";
features = features + "âœ” Priority-based sorting\n";
features = features + "âœ” AI-powered search\n";
features = features + "âœ” Workspace modes (Team / Personal)\n";
features = features + "âœ” Quick buttons (Done / Edit / Delete)\n";

usage = "**Tip:**\n";
usage = usage + "Use the bot menu anytime for shortcuts.";

// Combine sections
helpText = overview + "\n\n" + commands + "\n" + features + "\n" + usage;

card.put("sub_title", helpText);


// ------------------------------------------------------
// Buttons
// ------------------------------------------------------
buttons = List();

// Button 1 - Open bot menu
openMenuBtn = Map();
openMenuBtn.put("label", "Open Menu");
openMenuBtn.put("action", "open_bot_menu");

// Button 2 - Documentation
docsBtn = Map();
docsBtn.put("label", "Documentation");
docsBtn.put("url", "https://YOUR_DOCS_URL");

buttons.add(openMenuBtn);
buttons.add(docsBtn);

card.put("buttons", buttons);


// ------------------------------------------------------
// Return Help Card
// ------------------------------------------------------
return card;
